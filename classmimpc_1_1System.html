<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MIMPC++: mimpc::System&lt; num_states, num_cont_inputs, num_bin_inputs &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MIMPC++
   </div>
   <div id="projectbrief">A fast typesafe Mixed Integer MPC C++ library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>mimpc</b></li><li class="navelem"><a class="el" href="classmimpc_1_1System.html">System</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classmimpc_1_1System-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mimpc::System&lt; num_states, num_cont_inputs, num_bin_inputs &gt; Class Template Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="System_8hpp_source.html">System.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mimpc::System&lt; num_states, num_cont_inputs, num_bin_inputs &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classmimpc_1_1System__inherit__graph.png" border="0" usemap="#amimpc_1_1System_3_01num__states_00_01num__cont__inputs_00_01num__bin__inputs_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="amimpc_1_1System_3_01num__states_00_01num__cont__inputs_00_01num__bin__inputs_01_4_inherit__map" id="amimpc_1_1System_3_01num__states_00_01num__cont__inputs_00_01num__bin__inputs_01_4_inherit__map">
<area shape="rect" title=" " alt="" coords="5,5,197,61"/>
<area shape="rect" href="classmimpc_1_1systems_1_1REACSA.html" title=" " alt="" coords="6,109,197,151"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a22524baf2650435cc1596f0e6efd2dca"><td class="memItemLeft" align="right" valign="top"><a id="a22524baf2650435cc1596f0e6efd2dca"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>AMatrix</b> = typename Eigen::Matrix&lt; double, num_states, num_states &gt;</td></tr>
<tr class="separator:a22524baf2650435cc1596f0e6efd2dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f59704b66be959487b99998e6c240e"><td class="memItemLeft" align="right" valign="top"><a id="aa0f59704b66be959487b99998e6c240e"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>BMatrix</b> = typename Eigen::Matrix&lt; double, num_states, num_cont_inputs+num_bin_inputs &gt;</td></tr>
<tr class="separator:aa0f59704b66be959487b99998e6c240e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaba193cbcf2a63a8a30d8f1e04c4ed66"><td class="memItemLeft" align="right" valign="top"><a id="aaba193cbcf2a63a8a30d8f1e04c4ed66"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>StateVec</b> = typename Eigen::Vector&lt; double, num_states &gt;</td></tr>
<tr class="separator:aaba193cbcf2a63a8a30d8f1e04c4ed66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2634d3df9c5d513777490a4ce7904cd0"><td class="memItemLeft" align="right" valign="top"><a id="a2634d3df9c5d513777490a4ce7904cd0"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>InputVec</b> = typename Eigen::Vector&lt; double, num_cont_inputs+num_bin_inputs &gt;</td></tr>
<tr class="separator:a2634d3df9c5d513777490a4ce7904cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa8f6a77d32bae4a2fea1a073ff814973"><td class="memItemLeft" align="right" valign="top">virtual AMatrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmimpc_1_1System.html#aa8f6a77d32bae4a2fea1a073ff814973">getA</a> (const StateVec &amp;state) const =0</td></tr>
<tr class="separator:aa8f6a77d32bae4a2fea1a073ff814973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecd758e0c940364975be31fc891636ed"><td class="memItemLeft" align="right" valign="top">virtual BMatrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmimpc_1_1System.html#aecd758e0c940364975be31fc891636ed">getB</a> (const StateVec &amp;state) const =0</td></tr>
<tr class="separator:aecd758e0c940364975be31fc891636ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea99836a1635a5f506528b677fedf633"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmimpc_1_1System.html#aea99836a1635a5f506528b677fedf633">updateA</a> (const StateVec &amp;state, std::function&lt; void(unsigned int, unsigned int, double)&gt; &amp;changeAval) const =0</td></tr>
<tr class="separator:aea99836a1635a5f506528b677fedf633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83ac2c559bccc0439f72b8bfbd5d1dc3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmimpc_1_1System.html#a83ac2c559bccc0439f72b8bfbd5d1dc3">updateB</a> (const StateVec &amp;state, std::function&lt; void(unsigned int, unsigned int, double)&gt; &amp;changeBval) const =0</td></tr>
<tr class="separator:a83ac2c559bccc0439f72b8bfbd5d1dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a48c0b223b2c9a5fb6c99c4b2677caf76"><td class="memItemLeft" align="right" valign="top"><a id="a48c0b223b2c9a5fb6c99c4b2677caf76"></a>
static constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_STATES</b> = num_states</td></tr>
<tr class="separator:a48c0b223b2c9a5fb6c99c4b2677caf76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1c667dc931b707efcf78147f7d4c8f1"><td class="memItemLeft" align="right" valign="top"><a id="af1c667dc931b707efcf78147f7d4c8f1"></a>
static constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_CONT_INPUTS</b> = num_cont_inputs</td></tr>
<tr class="separator:af1c667dc931b707efcf78147f7d4c8f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7d4b0540da228d46573394dd19b07e"><td class="memItemLeft" align="right" valign="top"><a id="a5c7d4b0540da228d46573394dd19b07e"></a>
static constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_BIN_INPUTS</b> = num_bin_inputs</td></tr>
<tr class="separator:a5c7d4b0540da228d46573394dd19b07e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0614444493243c152f4e92ff45feb8a0"><td class="memItemLeft" align="right" valign="top"><a id="a0614444493243c152f4e92ff45feb8a0"></a>
static constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_INPUTS</b> = num_bin_inputs + num_cont_inputs</td></tr>
<tr class="separator:a0614444493243c152f4e92ff45feb8a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;int num_states, int num_cont_inputs, int num_bin_inputs&gt;<br />
class mimpc::System&lt; num_states, num_cont_inputs, num_bin_inputs &gt;</h3>

<p>In this library the system Dynamics are represented as \( \mathbf{\dot{x}} = \mathbf{A} \mathbf{x} + \mathbf{B} \mathbf{u} \), where</p><ul>
<li>system dynamics \(\mathbf{A}\)</li>
<li>input dynamics \(\mathbf{B}\)</li>
<li>system state is \(\mathbf{x} \in \mathbb{R}^{\text{num_states}}\)</li>
<li>system input consists of a continuous and binary part \(\mathbf{u} = \left[\mathbf{u}_\text{cont}^T,\mathbf{u}^T_\text{bin}\right]^T\), \(\mathbf{u}_\text{cont} \in \mathbb{R}^{\text{num_cont_inputs}}\) and \(\mathbf{u}_\text{cont} \in \left\{0,1\right\}^{\text{num_bin_inputs}}\)</li>
</ul>
<p>This class represents the system dynamics by offering functions that return the matrices \(A,B\) in order to allow a state dependend linearization. When the <a class="el" href="classmimpc_1_1MPC.html">MPC</a> needs to know the system state, it will call the functions <a class="el" href="classmimpc_1_1System.html#aa8f6a77d32bae4a2fea1a073ff814973">getA()</a> or <a class="el" href="classmimpc_1_1System.html#aecd758e0c940364975be31fc891636ed">getB()</a> to retrieve the full state matrix based on the current state. In order to avoid computational overhead when the systems state has changed the functions <a class="el" href="classmimpc_1_1System.html#aea99836a1635a5f506528b677fedf633">updateA()</a> or <a class="el" href="classmimpc_1_1System.html#a83ac2c559bccc0439f72b8bfbd5d1dc3">updateB()</a> are used in order to retrieve only the matrix values that change due to linearization.</p>
<p>To define the dynamics of a system, this abstract class has to be by a class which returns the linearized system dynamics as specified. The (<a class="el" href="classmimpc_1_1SCIPSolver.html">SCIPSolver</a>) or (<a class="el" href="classmimpc_1_1MPC.html">MPC</a>) can than be instantiated with the system dynamics as a template argument.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">num_states</td><td>Number of system states </td></tr>
    <tr><td class="paramname">num_cont_inputs</td><td>Number of continuous inputs </td></tr>
    <tr><td class="paramname">num_bin_inputs</td><td>Number of binary inputs </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aa8f6a77d32bae4a2fea1a073ff814973"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8f6a77d32bae4a2fea1a073ff814973">&#9670;&nbsp;</a></span>getA()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int num_states, int num_cont_inputs, int num_bin_inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual AMatrix <a class="el" href="classmimpc_1_1System.html">mimpc::System</a>&lt; num_states, num_cont_inputs, num_bin_inputs &gt;::getA </td>
          <td>(</td>
          <td class="paramtype">const StateVec &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Linearizes and returns the system dynamics as matrix A </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>state to linearize the system around </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>system matrix A </dd></dl>

<p>Implemented in <a class="el" href="classmimpc_1_1systems_1_1REACSA.html#a424700baf3ccb959e366d5a17bfe5b81">mimpc::systems::REACSA</a>.</p>

</div>
</div>
<a id="aecd758e0c940364975be31fc891636ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecd758e0c940364975be31fc891636ed">&#9670;&nbsp;</a></span>getB()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int num_states, int num_cont_inputs, int num_bin_inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual BMatrix <a class="el" href="classmimpc_1_1System.html">mimpc::System</a>&lt; num_states, num_cont_inputs, num_bin_inputs &gt;::getB </td>
          <td>(</td>
          <td class="paramtype">const StateVec &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Linearizes and returns the system input dynamics as a matrix B </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>state to linearize the system around </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>input matrix B </dd></dl>

<p>Implemented in <a class="el" href="classmimpc_1_1systems_1_1REACSA.html#a2506264f0e7ee6f549cd52c8de364be4">mimpc::systems::REACSA</a>.</p>

</div>
</div>
<a id="aea99836a1635a5f506528b677fedf633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea99836a1635a5f506528b677fedf633">&#9670;&nbsp;</a></span>updateA()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int num_states, int num_cont_inputs, int num_bin_inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classmimpc_1_1System.html">mimpc::System</a>&lt; num_states, num_cont_inputs, num_bin_inputs &gt;::updateA </td>
          <td>(</td>
          <td class="paramtype">const StateVec &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(unsigned int, unsigned int, double)&gt; &amp;&#160;</td>
          <td class="paramname"><em>changeAval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Updates the states of the linearized system matrix A based on a new state </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>state to linearize the system around </td></tr>
    <tr><td class="paramname">changeAval</td><td>callback function that will called for each matrix element which changes due to linearization around the new state. The callback function will be called with parameters (row index, column index, value). The values that are not updated are assumed to stay as returned by <a class="el" href="classmimpc_1_1System.html#aa8f6a77d32bae4a2fea1a073ff814973">getA()</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classmimpc_1_1systems_1_1REACSA.html#aa6cffe6f4d0bd2d55bb114383252ff55">mimpc::systems::REACSA</a>.</p>

</div>
</div>
<a id="a83ac2c559bccc0439f72b8bfbd5d1dc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83ac2c559bccc0439f72b8bfbd5d1dc3">&#9670;&nbsp;</a></span>updateB()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int num_states, int num_cont_inputs, int num_bin_inputs&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classmimpc_1_1System.html">mimpc::System</a>&lt; num_states, num_cont_inputs, num_bin_inputs &gt;::updateB </td>
          <td>(</td>
          <td class="paramtype">const StateVec &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(unsigned int, unsigned int, double)&gt; &amp;&#160;</td>
          <td class="paramname"><em>changeBval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Updates the states of the linearized system matrix B based on a new state </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>state to linearize the system around </td></tr>
    <tr><td class="paramname">changeAval</td><td>callback function that will called for each matrix element which changes due to linearization around the new state. The callback function will be called with parameter (row index, column index, value). The values that are not updated are assumed to stay as returned by <a class="el" href="classmimpc_1_1System.html#aecd758e0c940364975be31fc891636ed">getB()</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classmimpc_1_1systems_1_1REACSA.html#a16615cede0e3a95f5598d9b999e7a74d">mimpc::systems::REACSA</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/<a class="el" href="System_8hpp_source.html">System.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
